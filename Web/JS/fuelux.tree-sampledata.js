function fnData(a){var e={};for(var n in a)e[a[n].name]={name:a[n].name},a[n].child?(e[a[n].name].type="folder",fnSecond(e,a[n])):e[a[n].name].type="item";return new DataSourceTree({data:e})}function fnSecond(a,e){a[e.name].additionalParameters={children:{}};for(var n in e.child)e.child[n].child?(a[e.name].additionalParameters.children[e.child[n].name]={name:e.child[n].name,type:"folder"},fnSecond(a[e.name].additionalParameters.children,e.child[n])):a[e.name].additionalParameters.children[e.child[n].name]={name:e.child[n].name,type:"item"}}var DataSourceTree=function(a){this._data=a.data,this._delay=a.delay};DataSourceTree.prototype.data=function(a,e){var n=null;return"name"in a||"type"in a?("type"in a&&"folder"==a.type&&(n="additionalParameters"in a&&"children"in a.additionalParameters?a.additionalParameters.children:{}),void(null!=n&&setTimeout(function(){e({data:n})},parseInt(500*Math.random())+200))):(n=this._data,void e({data:n}))};