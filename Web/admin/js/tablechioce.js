function checkbox(e){var i=$("input[data-name="+e+"]"),n=$("#"+e),r=0;n.click(function(){if($(this)[0].checked){for(var e=0;e<i.length;e++)i[e].checked=!0;r=i.length}else{for(var e=0;e<i.length;e++)i[e].checked=!1;r=0}}),i.click(function(){$(this)[0].checked?(r++,r==i.length&&(n[0].checked=!0)):(r--,n[0].checked=!1)})}function unique(e){for(var i,n=[],r={},t=0;null!=(i=e[t]);t++)r[i]||(n.push(i),r[i]=!0);return n}var arrInput=$("input[data-toggle='checkbox']"),arr=[];$.each(arrInput,function(e,i){arr.push($(i).attr("data-name"))});for(var arr=unique(arr),i=0;i<arr.length;i++)checkbox(arr[i]);$(".a-upload").on("change","input[type='file']",function(){var e=$(this).val(),i=($(".a-upload input[type='file']").index($(this)),$(this).parents(".a-upload"));if(-1==e.indexOf("jpg")&&-1==e.indexOf("png"))return i.find(".showFileName").length&&i.find(".showFileName").html("").hide(),i.find(".fileerrorTip").length&&i.find(".fileerrorTip").html("您未上传文件，或者您上传文件类型有误！").show(),!1;var n=e.split("\\"),r=n[n.length-1];i.find(".fileerrorTip").length&&i.find(".fileerrorTip").html("").hide(),i.find(".showFileName").length&&i.find(".showFileName").html(r).show()});